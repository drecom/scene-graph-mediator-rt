!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["pixi-scene-graph"]=r():t["pixi-scene-graph"]=r()}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){"use strict";e.r(r);var n,o=Object.freeze({SUMMARY:1,DETAIL:2}),i=Object.freeze({INTERMEDIATE_DTO:"INTERMEDIATE_DTO",TEXT_TREE:"TEXT_TREE"}),c=function(){function t(t){this.graph=t}return t.prototype.convert=function(t,r,e){var n=null;switch(t){case o.SUMMARY:n=this.convertAsSummary(r,e);break;case o.DETAIL:n=this.convertAsDetail(r,e)}return n},t.prototype.convertAsSummary=function(t,r){var e=r||this.graph,n=t||[],o="";o+=this.convertAsSummaryLine(n,e),n.push(!0);for(var i=0;i<e.children.length;i++)n[n.length-1]=i<e.children.length-1,o+=this.convertAsSummary(n,e.children[i]);return n.pop(),o},t.prototype.convertAsDetail=function(t,r){return""},t.prototype.convertAsSummaryLine=function(t,r){for(var e="",n=0;n<t.length;n++)e+="  ",e+=t[n]?"|":" ";return e+="- "+(r.name||"")+"("+r.constructorClass.name+")\n"},t}(),u=function(){function t(t){this.graph=t}return t.prototype.convert=function(t,r,e){var n=null;switch(t){case o.SUMMARY:n=this.convertAsSummary(r,e);break;case o.DETAIL:n=this.convertAsDetail(r,e)}return n},t.prototype.convertAsSummary=function(t,r){for(var e=r||this.graph,n=t||[],o={constructorClass:e.constructorClass,name:e.name,children:e.children,properties:e.properties},i=0;i<o.children.length;i++)o.children[i]=this.convertAsSummary(n,o.children[i]);return o},t.prototype.convertAsDetail=function(t,r){return r||this.graph},t}(),s=function(){function t(){}return t.prototype.export=function(t,r,e){void 0===e&&(e=o.SUMMARY);var n=this.createSchemaRecursive(r);if(!n)return null;var s=null;switch(t){case i.TEXT_TREE:s=new c(n);break;case i.INTERMEDIATE_DTO:s=new u(n)}return s?s.convert(e):null},t}(),a=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.getInitiators=function(){return r.Initiators},r.prototype.createSchema=function(t){var r={constructorClass:t.constructor,name:t.name,children:[],properties:{}};for(var e in t)r.properties[e]=t[e];return r},r.prototype.createSchemaRecursive=function(t){var r=this.createSchema(t);if(t.children)for(var e=0;e<t.children.length;e++){var n=this.createSchemaRecursive(t.children[e]);n.children=[],r.children.push(n)}return r},r.prototype.import=function(t){var e,n=t.constructorClass;(e=r.Initiators.hasOwnProperty(n.name)?r.Initiators[n.name](n,t.properties):new t.constructorClass).name=t.name;for(var o=Object.keys(t.properties),i=0;i<o.length;i++){var c=o[i];if("children"!==c)try{e[c]=t.properties[c]}catch(t){console.log(t)}}if(!e)throw new Error("Restoring runtime object failed. Could not instantiate '"+t.constructorClass.name+"'");for(i=0;i<t.children.length;i++)e.addChild(this.import(t.children[i]));return e},r.Initiators={Text:function(t,r){return new t(r._text,r._style)}},r}(s);e.d(r,"SceneGraph",function(){return l}),e.d(r,"SceneGraphOptions",function(){return f}),e.d(r,"RuntimeMediator",function(){return s});var l={Pixi:p},f={Level:o,Type:i}}])});